set -g mouse on

set -g default-terminal "xterm-256color"

# make colors inside tmux look the same as outside of tmux
# see https://github.com/tmux/tmux/issues/696
# see https://stackoverflow.com/a/41786092
set-option -ga terminal-overrides ",xterm-256color:Tc"

# Windows and panes
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

set-window-option -g automatic-rename off
set-option -g allow-rename off

# Pane switching
bind k select-pane -U
bind j select-pane -D
bind h select-pane -L
bind l select-pane -R

# Resize panes
bind -r H resize-pane -L 10
bind -r J resize-pane -D 10
bind -r K resize-pane -U 10
bind -r L resize-pane -R 10

# Hot reload
bind r source-file ~/.tmux.conf

# Open test panes
bind t split-window -f -l 15 -c "#{pane_current_path}"
bind T split-window -h -f -p 35 -c "#{pane_current_path}"

# Git
bind g popup -E -w 100% -h 100% -d "#{pane_current_path}" "lazygit"
bind p popup -E -w 80% -h 20% -d "#{pane_current_path}" "htop"

# Plugins
set -g @plugin 'tmux-plugins/tpm'

# Theme
#set -g @plugin 'catppuccin/tmux'
#set -g @catppuccin_window_status_enable "yes"
#set -g @catppuccin_window_current_format_directory_text "#{b:pane_current_path}"

thm_bg="#1e1e2e"
thm_fg="#cdd6f4"
thm_cyan="#89dceb"
thm_black="#181825"
thm_gray="#313244"
thm_magenta="#cba6f7"
thm_pink="#f5c2e7"
thm_red="#f38ba8"
thm_green="#a6e3a1"
thm_yellow="#f9e2af"
thm_blue="#89b4fa"
thm_orange="#fab387"
thm_black4="#585b70"

set -g status-style fg=white,bg=black
set -g window-status-current-style fg=green,bg=black
set -g pane-active-border-style fg=green,bg=black
set -g window-status-format " #I:#W#F "
set -g window-status-current-format " #I:#W#F "
set -g window-status-current-style bg=green,fg=black
set -g window-status-activity-style bg=black,fg=yellow
set -g window-status-separator ""
set -g status-justify centre

set -g status "on"
set -g status-bg "${thm_bg}"
set -g status-justify "centre"
set -g status-left-length "100"
set -g status-right-length "100"

# # Messages
set -g message-style "fg=${thm_cyan},bg=${thm_gray},align=centre"
set -g message-command-style "fg=${thm_cyan},bg=${thm_gray},align=centre"

# # Panes
set -g pane-border-style "fg=${thm_gray}"
set -g pane-active-border-style "fg=${thm_blue}"

# # Windows
setw -g window-status-activity-style "fg=${thm_fg},bg=${thm_bg},none"
setw -g window-status-separator ""
setw -g window-status-style "fg=${thm_fg},bg=${thm_bg},none"

# Keep this line at the very bottom
run '~/.tmux/plugins/tpm/tpm'
